<h1 class="execution"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1" title="Execution Node"><use x="0" y="0" width="1" height="1" href="#execution_icon"/></svg> Set Node Graph Variable</h1>
<p>
    Sets the value of a node graph variable.
</p>

<h2>Input Parameters</h2>
<ul>
    <li>
        <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Variable Name</span> (String) - Name of the node graph variable.
    </li>
    <li>
        <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Variable Value</span> (Generic) - Value to set the node graph variable to.
    </li>
    <li>
        <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Trigger Event</span> (Boolean) - If <code>Yes</code>, <a href="?node=when_node_graph_variable_changes" class="node event"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#event_icon"/></svg> When Node Graph Variable Changes</a> triggers.
    </li>
</ul>

<h2>Usage</h2>
<p>
    Node graph variable can be used to hold state that only needs to be known by the node graph.
    If you do not need this state to persist past a node graph execution, use local variable instead.
    If you want the state to be read and/or written from other node graphs,
    or to be used in string formatting of UI text box, text bubble, or nameplate, use custom variable instead.
</p>
<p>
    Node graph variable is scoped for each created entities that hold this node graph.
    All node graph variable values are lost if the entity is removed or destroyed from the scene,
    and the values do not get restored if it is recreated by <a href="?node=create_entity" class="node execution"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#execution_icon"/></svg> Create Entity</a>.
</p>

<h2>Example</h2>
<p>
    In this example, we set the node graph variable <code>favorite_character</code> to <code>"Kokomi"</code>.
    <img src="/mw_doc/image/set_node_graph_variable_example.webp" alt="set node graph variable example" class="expandable_img" loading="lazy"/>
</p>

<h2>Notes</h2>
<ul>
    <li>
        <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Variable Name</span> can be selected from the list of node graph variables
        by clicking the magnifying glass icon.
        Sadly, this does not set the type of <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Variable Value</span>.
    </li>
    <li>
        If there does not exist a node graph variable named <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Variable Name</span>, this node is no-op.
        Note that this behavior is different from <a href="?node=set_custom_variable" class="node execution"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#execution_icon"/></svg> Set Custom Variable</a>.
    </li>
    <li>
        If the type of <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Variable Value</span> does not match the type of the node graph variable, this node is no-op.
    </li>
    <li>
        For container types such as list, dictionary, or structure,
        this node receives the reference of the container as <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Variable Value</span>
        and copies the content of the input container.
        The resulting node graph variable will have different reference as the input value.
        In the below example, <code>first_list</code> variable is set to <code>[2, 3, 5]</code>
        and <code>second_list</code> copied the content.
        After the execution, <code>first_list</code> will be <code>[1, 3, 5]</code> and <code>second_list</code> will be <code>[2, 3, 4]</code>,
        because the two lists start with the same content but separate reference,
        thus <a href="?node=set_list_value" class="node execution"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#execution_icon"/></svg> Set List Value</a> only modifies one of the lists.
        <img src="/mw_doc/image/set_node_graph_variable_container_reference_example.webp" alt="set node graph variable container reference example" class="expandable_img" loading="lazy"/>
    </li>
</ul>

<h2>Performance</h2>
<p>
    For a string node graph variable, this node took ~3 units to run on average when <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Trigger Event</span> is <code>No</code>.
    When <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Trigger Event</span> is <code>Yes</code>, this node took ~6 units to run on average.
</p>
<p>
    For an integer list of length 1000, this node took ~8 units to run on average when <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Trigger Event</span> is <code>No</code>.
    When <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Trigger Event</span> is <code>Yes</code>, this node took ~11 units to run on average.
</p>
<p>
    Whether <a href="?node=when_node_graph_variable_changes" class="node event"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#event_icon"/></svg> When Node Graph Variable Changes</a> exists to monitor the change does not seem to visibly affect performance.
</p>
<p>
    This node performs clearly better than <a href="?node=set_custom_variable" class="node execution"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#execution_icon"/></svg> Set Custom Variable</a>.
</p>
<span class="small">
Performance may vary for various reasons.
These numbers are just for giving a sense of rough magnitude.
Performance may differ from profiling in a test play when playing a published stage.
First execution of a node within a node graph execution tend to take a bit longer.
</span>

<h2>See Also</h2>
<ul class="ul_no_dot see_also">
    <li>
        <a href="?node=get_node_graph_variable" class="node query"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#query_icon"/></svg> Get Node Graph Variable</a>
    </li>
    <li>
        <a href="?node=when_node_graph_variable_changes" class="node event"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#event_icon"/></svg> When Node Graph Variable Changes</a>
    </li>
    <li>
        <a href="?node=set_custom_variable" class="node execution"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#execution_icon"/></svg> Set Custom Variable</a>
    </li>
</ul>

<h2>Credits</h2>
    <p>Written by: kokokokomi222</p>
    <p>Last updated: 2026-02-22 (Luna IV)</p>
    <p><a class="outbound_link" href="https://github.com/kokokokomi222/mw_doc/commits/master/build/doc_written/S/set_node_graph_variable.md">See Edit History</a></p>
    <p>Got improvement to this doc? <a class="outbound_link" href="https://forms.gle/SEe61aTg6L3Am65B9">Please submit it here.</a></p>
