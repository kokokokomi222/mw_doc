<h1 class="execution"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1" title="Execution Node"><use x="0" y="0" width="1" height="1" href="#execution_icon"/></svg> Set Custom Variable</h1>
<p>
    Sets the value of a custom variable.
</p>

<h2>Input Parameters</h2>
<ul>
    <li>
        <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Target Entity</span> (Entity) - Entity that holds the custom variable.
    </li>
    <li>
        <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Variable Name</span> (String) - Name of the custom variable.
    </li>
    <li>
        <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Variable Value</span> (Generic) - Value to set the custom variable to.
    </li>
    <li>
        <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Trigger Event</span> (Boolean) - If <code>Yes</code>, <a href="?node=when_custom_variable_changes" class="node event"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#event_icon"/></svg> When Custom Variable Changes</a> triggers
    </li>
</ul>

<h2>Usage</h2>
<p>
    Custom variable can be used to hold state that is publicly accessible by all node graphs.
    It can also be used for string formatting by UI text box, text bubbles, nameplate, and others.
    If you do not need the state to be read/written from other node graphs,
    use node graph variable instead.
</p>
<p>
    Custom variable is scoped for each created entities.
    All custom variable values are lost if the entity is removed or destroyed from the scene,
    and the values do not get restored if it is recreated by <a href="?node=create_entity" class="node execution"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#execution_icon"/></svg> Create Entity</a>.
</p>

<h2>Example</h2>
<p>
    In this example, we set the custom variable <code>weapon</code> to <code>"Everlasting Moonglow"</code>
    for the character entity that selected the tab.
    <img src="/mw_doc/image/set_custom_variable_example.webp" alt="set custom variable example" class="expandable_img" loading="lazy"/>
</p>

<h2>Notes</h2>
<ul>
    <li>
        If <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Target Entity</span> does not exist, this node raises "Entity does not exist" error, but continues the execution.
    </li>
    <li>
        If there does not exist a custom variable named <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Variable Name</span>,
        it creates a new custom variable with that name.
        Note that this behavior is different from <a href="?node=set_node_graph_variable" class="node execution"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#execution_icon"/></svg> Set Node Graph Variable</a>.
    </li>
    <li>
        If the type of <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Variable Value</span> does not match the type of the custom variable, this node is no-op.
    </li>
    <li>
        For container types such as list, dictionary, or structure,
        this node receives the reference of the container as <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Variable Value</span>
        and copies the content of the input container.
        The resulting custom variable will have different reference as the input value.
        In the below example, <code>first_list</code> variable is set to <code>[2, 3, 5]</code>
        and <code>second_list</code> copied the content.
        After the execution, <code>first_list</code> will be <code>[1, 3, 5]</code> and <code>second_list</code> will be <code>[2, 3, 4]</code>,
        because the two lists start with the same content but separate reference,
        thus <a href="?node=set_list_value" class="node execution"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#execution_icon"/></svg> Set List Value</a> only modifies one of the lists.
        <img src="/mw_doc/image/set_custom_variable_container_reference_example.webp" alt="set custom variable container reference example" class="expandable_img" loading="lazy"/>
    </li>
</ul>

<h2>Performance</h2>
<p>
    For a string custom variable, this node took ~7 units to run on average when <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Trigger Event</span> is <code>No</code>.
    When <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Trigger Event</span> is <code>Yes</code>, this node took ~9 units to run on average.
</p>
<p>
    For an integer list of length 1000, this node took ~27 units to run on average when <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Trigger Event</span> is <code>No</code>.
    When <span class="input_var"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#input_icon"/></svg> Trigger Event</span> is <code>Yes</code>, this node took ~30 units to run on average.
</p>
<p>
    Whether <a href="?node=when_custom_variable_changes" class="node event"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#event_icon"/></svg> When Custom Variable Changes</a> exists to monitor the change does not seem to visibly affect performance.
</p>
<p>
    This node performs clearly worse than <a href="?node=set_node_graph_variable" class="node execution"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#execution_icon"/></svg> Set Node Graph Variable</a>.
</p>
<span class="small">
Performance may vary for various reasons.
These numbers are just for giving a sense of rough magnitude.
Performance may differ from profiling in a test play when playing a published stage.
First execution of a node within a node graph execution tend to take a bit longer.
</span>

<h2>See Also</h2>
<ul class="ul_no_dot see_also">
    <li>
        <a href="?node=get_custom_variable" class="node query"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#query_icon"/></svg> Get Custom Variable</a>
    </li>
    <li>
        <a href="?node=when_custom_variable_changes" class="node event"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#event_icon"/></svg> When Custom Variable Changes</a>
    </li>
    <li>
        <a href="?node=set_node_graph_variable" class="node execution"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><use x="0" y="0" width="1" height="1" href="#execution_icon"/></svg> Set Node Graph Variable</a>
    </li>
</ul>

<h2>Credits</h2>
    <p>Written by: kokokokomi222</p>
    <p>Last updated: 2026-02-22 (Luna IV)</p>
    <p><a href="https://github.com/kokokokomi222/mw_doc/commits/master/build/doc_written/S/set_custom_variable.md">See Edit History</a></p>
    <p>Got improvement to this doc? <a class="outbound_link" href="https://forms.gle/SEe61aTg6L3Am65B9">Please submit it here.</a></p>
